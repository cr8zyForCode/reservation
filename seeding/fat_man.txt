#!/bin/bash

psql postgres -U root -d sampledb -c "DROP TABLE IF EXISTS properties; CREATE TABLE properties (id serial, nightly_fee smallint, rating smallint, reviews smallint, min_stay smallint, max_guests smallint); DROP TABLE IF EXISTS reservation_info; CREATE TABLE reservation_info (reservation_id varchar(30), property_id smallint, check_in date, check_out date, total smallint); DROP TABLE IF EXISTS reservations; CREATE TABLE reservations (id serial,property_id smallint, reservation_id varchar(30), booked_date date);"

psql postgres -U root -d sampledb -c "COPY properties(nightly_fee, rating, reviews, min_stay, max_guests)
FROM '$(pwd)/properties.csv'
DELIMITER ','
CSV HEADER"

psql postgres -U root -d sampledb -c "COPY reservation_info(reservation_id, property_id, check_in, check_out, total)
FROM '$(pwd)/reservationInfo.csv'
DELIMITER ','
CSV HEADER"

psql postgres -U root -d sampledb -c "COPY reservations(property_id, reservation_id, booked_date)
FROM '$(pwd)/reservations.csv'
DELIMITER ','
CSV HEADER"